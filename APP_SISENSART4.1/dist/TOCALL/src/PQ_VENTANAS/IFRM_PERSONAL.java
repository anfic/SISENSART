/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package PQ_VENTANAS;

import PQ_CONTROLADORES.CLS_Controlador;
import PQ_CONTROLADORES.Mail;
import javax.swing.JOptionPane;

/**
 *
 * @author anfic
 */
public class IFRM_PERSONAL extends javax.swing.JInternalFrame {

    CLS_Controlador ctrl=new CLS_Controlador();
    /**
     * Creates new form IFRM_PERSONAL
     */
    public IFRM_PERSONAL()
    {
        initComponents();
        Cancelar();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPopupMenu1 = new javax.swing.JPopupMenu();
        jMenuItem1 = new javax.swing.JMenuItem();
        jSeparator1 = new javax.swing.JPopupMenu.Separator();
        jMenuItem2 = new javax.swing.JMenuItem();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        TX1 = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        TX2 = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        TX3 = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        TX4 = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        TX5 = new javax.swing.JFormattedTextField();
        jLabel6 = new javax.swing.JLabel();
        CBcivil = new javax.swing.JComboBox<>();
        jPanel5 = new javax.swing.JPanel();
        jPanel6 = new javax.swing.JPanel();
        LBfoto = new javax.swing.JLabel();
        TXrutaFoto = new javax.swing.JTextField();
        BTactFot = new javax.swing.JButton();
        jLabel17 = new javax.swing.JLabel();
        BTsubirFoto = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        BTg = new javax.swing.JButton();
        BTc = new javax.swing.JButton();
        BTm = new javax.swing.JButton();
        jButton6 = new javax.swing.JButton();
        jLabel21 = new javax.swing.JLabel();
        CBgrado = new javax.swing.JComboBox<>();
        jPanel2 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        TX6 = new javax.swing.JTextField();
        TX7 = new javax.swing.JTextField();
        TX8 = new javax.swing.JTextField();
        TX9 = new javax.swing.JTextField();
        TX10 = new javax.swing.JTextField();
        TX11 = new javax.swing.JTextField();
        TX12 = new javax.swing.JTextField();
        CBsangre = new javax.swing.JComboBox();
        CBantecedentes = new javax.swing.JComboBox<>();
        CBAFP = new javax.swing.JComboBox();
        jScrollPane1 = new javax.swing.JScrollPane();
        TXobservaciones = new javax.swing.JTextArea();
        jPanel3 = new javax.swing.JPanel();
        jLabel19 = new javax.swing.JLabel();
        TXbuscar = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        CBbuscar = new javax.swing.JComboBox<>();
        jScrollPane2 = new javax.swing.JScrollPane();
        TBpersonal = new javax.swing.JTable();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();

        jMenuItem1.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jMenuItem1.setText("Editar Campos");
        jMenuItem1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItem1ActionPerformed(evt);
            }
        });
        jPopupMenu1.add(jMenuItem1);
        jPopupMenu1.add(jSeparator1);

        jMenuItem2.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jMenuItem2.setText("Adicionar/Modificar  - Fotografiía");
        jMenuItem2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItem2ActionPerformed(evt);
            }
        });
        jPopupMenu1.add(jMenuItem2);

        setClosable(true);
        setIconifiable(true);
        setTitle("Ventana de Mantenimiento de Personal.");
        setToolTipText(this.getTitle());

        jTabbedPane1.setBackground(new java.awt.Color(255, 255, 255));
        jTabbedPane1.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true));

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel1.setText("DNI:");

        TX1.setBackground(new java.awt.Color(255, 255, 153));
        TX1.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        TX1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX1KeyPressed(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                TX1KeyTyped(evt);
            }
        });

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel2.setText("Apellido Paterno:");

        TX2.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        TX2.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX2KeyPressed(evt);
            }
        });

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel3.setText("Apellido Materno:");

        TX3.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        TX3.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX3KeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                TX3KeyReleased(evt);
            }
        });

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel4.setText("Nombres:");

        TX4.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        TX4.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX4KeyPressed(evt);
            }
        });

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel5.setText("F. Nacimiento:");

        try {
            TX5.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##-##-####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        TX5.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX5KeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                TX5KeyReleased(evt);
            }
        });

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel6.setText("E.Civil:");

        CBcivil.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "SOLTERO/A", "CONVIVIENTE", "CASADO/A", "DIVORCIADO/A", "VIUDO/A" }));
        CBcivil.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                CBcivilKeyReleased(evt);
            }
        });

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));
        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true), "Fotografía OPCIONAL:", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N

        jPanel6.setBackground(new java.awt.Color(255, 255, 255));
        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)), "Foto de Usuario", javax.swing.border.TitledBorder.CENTER, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N
        jPanel6.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        LBfoto.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jPanel6.add(LBfoto, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 20, 110, 130));

        TXrutaFoto.setEditable(false);
        TXrutaFoto.setBackground(new java.awt.Color(255, 255, 102));
        TXrutaFoto.setColumns(13);

        BTactFot.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        BTactFot.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/ACTUALIZAR.png"))); // NOI18N
        BTactFot.setText("Actualizar Foto");
        BTactFot.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTactFotActionPerformed(evt);
            }
        });

        jLabel17.setFont(new java.awt.Font("Tahoma", 3, 12)); // NOI18N
        jLabel17.setText("El personal debe estar registrado para poder añadir una fotografía.");

        BTsubirFoto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/CARPETA1.png"))); // NOI18N
        BTsubirFoto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTsubirFotoActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(TXrutaFoto)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel17)
                            .addComponent(BTactFot)
                            .addComponent(BTsubirFoto))
                        .addGap(0, 51, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                .addComponent(jLabel17)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(BTactFot)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(TXrutaFoto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(BTsubirFoto, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addComponent(jPanel6, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        jPanel4.setBackground(new java.awt.Color(255, 255, 255));
        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true), "Controles:", javax.swing.border.TitledBorder.CENTER, javax.swing.border.TitledBorder.DEFAULT_POSITION));

        BTg.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        BTg.setText("Guardar");
        BTg.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTgActionPerformed(evt);
            }
        });

        BTc.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        BTc.setText("Cancelar");
        BTc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTcActionPerformed(evt);
            }
        });

        BTm.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        BTm.setText("Editar");
        BTm.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTmActionPerformed(evt);
            }
        });

        jButton6.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jButton6.setText("Salir");

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(BTg, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(BTc, javax.swing.GroupLayout.DEFAULT_SIZE, 179, Short.MAX_VALUE)
            .addComponent(BTm, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jButton6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addComponent(BTg, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(BTc, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(BTm, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jButton6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jLabel21.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel21.setText("Grado de Instrucción:");

        CBgrado.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "NO ESPECIFICA", "INICIAL", "PRIMARIA COMPLETA", "SECUNDARIA COMPLETA", "TEC. SUPERIOR", "PRACTICANTE", "BACHILLER", "UNIVERSITARIO TITULADO", "MAGISTER", "DOCTORADO", "Ph.D" }));

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jLabel21)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(CBgrado, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addContainerGap()
                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jLabel2)
                                            .addComponent(jLabel3)
                                            .addComponent(jLabel4)
                                            .addComponent(jLabel5)))
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addGap(12, 12, 12)
                                        .addComponent(jLabel1)))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(TX1, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addComponent(TX5, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jLabel6)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(CBcivil, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                    .addComponent(TX4)
                                    .addComponent(TX3)
                                    .addComponent(TX2, javax.swing.GroupLayout.DEFAULT_SIZE, 300, Short.MAX_VALUE))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel1)
                            .addComponent(TX1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel2)
                            .addComponent(TX2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel3)
                            .addComponent(TX3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel4)
                            .addComponent(TX4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel5)
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(TX5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel6)
                                .addComponent(CBcivil, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel21)
                    .addComponent(CBgrado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(31, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Datos Personales", jPanel1);

        jPanel2.setBackground(new java.awt.Color(255, 255, 255));
        jPanel2.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true));

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel7.setText("e-mail:");

        jLabel8.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel8.setText("Teléfono fijo:");

        jLabel9.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel9.setText("Celular:");

        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel10.setText("Dirección:");

        jLabel11.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel11.setText("Referencia:");

        jLabel12.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel12.setText("Contacto de emergencia:");

        jLabel13.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel13.setText("Teléfono de emergencia:");

        jLabel14.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel14.setText("Tipo de sangre:");

        jLabel15.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel15.setText("Antecedentes policiales:");

        jLabel16.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel16.setText("Inscrito en:");

        jLabel18.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel18.setText("Observaciones:");

        TX6.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX6KeyPressed(evt);
            }
        });

        TX7.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX7KeyPressed(evt);
            }
        });

        TX8.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX8KeyPressed(evt);
            }
        });

        TX9.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX9KeyPressed(evt);
            }
        });

        TX10.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX10KeyPressed(evt);
            }
        });

        TX11.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX11KeyPressed(evt);
            }
        });

        TX12.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TX12KeyPressed(evt);
            }
        });

        CBsangre.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "ND", "O-", "O+", "B-", "B+", "A-", "A+", "AB-", "AB+" }));
        CBsangre.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                CBsangreKeyPressed(evt);
            }
        });

        CBantecedentes.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "NO", "SI" }));
        CBantecedentes.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                CBantecedentesKeyPressed(evt);
            }
        });

        CBAFP.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "NINGUNO", "AFP", "ONP" }));
        CBAFP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CBAFPActionPerformed(evt);
            }
        });
        CBAFP.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                CBAFPKeyPressed(evt);
            }
        });

        TXobservaciones.setColumns(20);
        TXobservaciones.setLineWrap(true);
        TXobservaciones.setRows(5);
        TXobservaciones.setWrapStyleWord(true);
        TXobservaciones.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                TXobservacionesKeyPressed(evt);
            }
        });
        jScrollPane1.setViewportView(TXobservaciones);

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel12)
                                    .addComponent(jLabel13))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel2Layout.createSequentialGroup()
                                        .addComponent(TX12, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jLabel14)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(CBsangre, javax.swing.GroupLayout.PREFERRED_SIZE, 81, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(TX11, javax.swing.GroupLayout.PREFERRED_SIZE, 348, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(jLabel15)
                                .addGap(18, 18, 18)
                                .addComponent(CBantecedentes, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel16)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(CBAFP, javax.swing.GroupLayout.PREFERRED_SIZE, 203, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jLabel18)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel8)
                                    .addComponent(jLabel9)
                                    .addComponent(jLabel7)
                                    .addComponent(jLabel10)
                                    .addComponent(jLabel11))
                                .addGap(30, 30, 30)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(TX7)
                                        .addComponent(TX8, javax.swing.GroupLayout.DEFAULT_SIZE, 174, Short.MAX_VALUE))
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                            .addComponent(TX6, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 400, Short.MAX_VALUE)
                                            .addComponent(TX9, javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(TX10))
                                        .addGap(12, 12, 12)))))
                        .addGap(0, 80, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel7)
                    .addComponent(TX6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel8)
                    .addComponent(TX7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel9)
                    .addComponent(TX8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel10)
                    .addComponent(TX9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel11)
                    .addComponent(TX10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel12)
                    .addComponent(TX11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel13)
                    .addComponent(TX12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel14)
                    .addComponent(CBsangre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel15)
                    .addComponent(CBantecedentes, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel16)
                    .addComponent(CBAFP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel18)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Datos de Contacto", jPanel2);

        jPanel3.setBackground(new java.awt.Color(255, 255, 255));
        jPanel3.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true));

        jLabel19.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel19.setText("Ingrese Texto:");

        TXbuscar.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        TXbuscar.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                TXbuscarKeyTyped(evt);
            }
        });

        jLabel20.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel20.setText("Buscar por:");

        CBbuscar.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "DNI", "NOMBRES", "AP PATERNO", "AP MATERNO" }));

        TBpersonal.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "DNI", "AP. PATERNO", "AP. MATERNO", "NOMBRES", "F. NAC.", "E. CIVIL", "G. INSTR."
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        TBpersonal.setComponentPopupMenu(jPopupMenu1);
        TBpersonal.getTableHeader().setReorderingAllowed(false);
        jScrollPane2.setViewportView(TBpersonal);
        if (TBpersonal.getColumnModel().getColumnCount() > 0) {
            TBpersonal.getColumnModel().getColumn(0).setResizable(false);
            TBpersonal.getColumnModel().getColumn(0).setPreferredWidth(50);
            TBpersonal.getColumnModel().getColumn(1).setResizable(false);
            TBpersonal.getColumnModel().getColumn(2).setResizable(false);
            TBpersonal.getColumnModel().getColumn(3).setResizable(false);
            TBpersonal.getColumnModel().getColumn(4).setResizable(false);
            TBpersonal.getColumnModel().getColumn(5).setResizable(false);
            TBpersonal.getColumnModel().getColumn(6).setResizable(false);
        }

        jButton1.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/ACTUALIZAR.png"))); // NOI18N
        jButton1.setText("Actualizar Lista");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton2.setText("Pasar Datos");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        jButton3.setText("Add/Mod - Fotografia");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane2)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel19)
                            .addComponent(jLabel20))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(CBbuscar, javax.swing.GroupLayout.PREFERRED_SIZE, 138, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addComponent(TXbuscar, javax.swing.GroupLayout.PREFERRED_SIZE, 234, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jButton1))))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(jButton2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton3)))
                .addContainerGap(127, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGap(4, 4, 4)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20)
                    .addComponent(CBbuscar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel19)
                    .addComponent(TXbuscar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 296, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButton2)
                    .addComponent(jButton3)))
        );

        jTabbedPane1.addTab("Busqueda de personal", jPanel3);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 636, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void BTactFotActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTactFotActionPerformed
        // TODO add your handling code here:
        if(TBpersonal.getSelectedRow()==-1)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no seleccionó un personal.");
            Cancelar();
        }
        else if(TXrutaFoto.getText().trim().length()==0)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no seleccionó la foto.");
            BTsubirFoto.doClick();
        }
        else
        {
            ctrl.Actualizarfoto(TXrutaFoto.getText().trim(), "personal","foto", "personal.dni", TBpersonal,0);
            Cancelar();
        }
    }//GEN-LAST:event_BTactFotActionPerformed

    private void CBAFPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CBAFPActionPerformed
        // TODO add your handling code here:
//        if (CBAFP.getSelectedIndex()==0)
//        {
//            ActivaAFP(true, true, true);
//        }
//        else
//        {
//            ActivaAFP(false, false, false);
//        }
    }//GEN-LAST:event_CBAFPActionPerformed

    private void BTsubirFotoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTsubirFotoActionPerformed
        // TODO add your handling code here:
        ctrl.Foto(LBfoto, TXrutaFoto, 110, 130);
    }//GEN-LAST:event_BTsubirFotoActionPerformed

    private void BTcActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTcActionPerformed
        // TODO add your handling code here:
        Cancelar();
    }//GEN-LAST:event_BTcActionPerformed

    private void TX1KeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX1KeyTyped
        // TODO add your handling code here:
        ctrl.SoloNumerosEnteros(evt);
        ctrl.Limittxt(TX1, evt, 7);
    }//GEN-LAST:event_TX1KeyTyped

    private void BTgActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTgActionPerformed
        // TODO add your handling code here:
        Guardar();
    }//GEN-LAST:event_BTgActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        Cancelar();
    }//GEN-LAST:event_jButton1ActionPerformed

    private void TXbuscarKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TXbuscarKeyTyped
        // TODO add your handling code here:
        if(CBbuscar.getSelectedIndex()==0)
        {
            ctrl.BuscarJtable(TXbuscar, TBpersonal, 0);
        }
        else if(CBbuscar.getSelectedIndex()==1)
        {
            ctrl.BuscarJtable(TXbuscar, TBpersonal, 3);
        }
        else if(CBbuscar.getSelectedIndex()==2)
        {
            ctrl.BuscarJtable(TXbuscar, TBpersonal, 1);
        }
        else if(CBbuscar.getSelectedIndex()==3)
        {
            ctrl.BuscarJtable(TXbuscar, TBpersonal, 2);
        }
    }//GEN-LAST:event_TXbuscarKeyTyped

    private void jMenuItem1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItem1ActionPerformed
        // TODO add your handling code here:
        PasarDatos();
    }//GEN-LAST:event_jMenuItem1ActionPerformed

    private void BTmActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTmActionPerformed
        // TODO add your handling code here:
        Editar();
    }//GEN-LAST:event_BTmActionPerformed

    private void TX1KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX1KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, TX2);
    }//GEN-LAST:event_TX1KeyPressed

    private void TX2KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX2KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, TX3);
    }//GEN-LAST:event_TX2KeyPressed

    private void TX3KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX3KeyReleased
        // TODO add your handling code here:
        
    }//GEN-LAST:event_TX3KeyReleased

    private void TX4KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX4KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, TX5);
    }//GEN-LAST:event_TX4KeyPressed

    private void TX5KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX5KeyReleased
        // TODO add your handling code here:
        
    }//GEN-LAST:event_TX5KeyReleased

    private void CBcivilKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_CBcivilKeyReleased
        // TODO add your handling code here:
        jTabbedPane1.setSelectedIndex(1);
        ctrl.PulsarEnter(evt, TX6);
    }//GEN-LAST:event_CBcivilKeyReleased

    private void TX6KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX6KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, TX7);
    }//GEN-LAST:event_TX6KeyPressed

    private void TX7KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX7KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, TX8);
    }//GEN-LAST:event_TX7KeyPressed

    private void TX8KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX8KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, TX9);
    }//GEN-LAST:event_TX8KeyPressed

    private void TX9KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX9KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, TX10);
    }//GEN-LAST:event_TX9KeyPressed

    private void TX10KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX10KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, TX11);
    }//GEN-LAST:event_TX10KeyPressed

    private void TX11KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX11KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt,TX12);
    }//GEN-LAST:event_TX11KeyPressed

    private void TX12KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX12KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, CBsangre);
    }//GEN-LAST:event_TX12KeyPressed

    private void CBsangreKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_CBsangreKeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, CBantecedentes);
    }//GEN-LAST:event_CBsangreKeyPressed

    private void CBantecedentesKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_CBantecedentesKeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, CBAFP);
    }//GEN-LAST:event_CBantecedentesKeyPressed

    private void CBAFPKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_CBAFPKeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, TXobservaciones);
    }//GEN-LAST:event_CBAFPKeyPressed

    private void TXobservacionesKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TXobservacionesKeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, BTg);
    }//GEN-LAST:event_TXobservacionesKeyPressed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
        PasarDatos();
    }//GEN-LAST:event_jButton2ActionPerformed

    private void jMenuItem2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItem2ActionPerformed
        // TODO add your handling code here:
        jTabbedPane1.setSelectedIndex(0);
        BTsubirFoto.doClick();
    }//GEN-LAST:event_jMenuItem2ActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
        if(TBpersonal.getSelectedRow()==-1)
        {
            ctrl.mensaje.MensajeAlerta("ud. no seleccionó ningún personal.");
            ctrl.Maracar(TXbuscar);
        }
        else
        {
            jTabbedPane1.setSelectedIndex(0);
            BTsubirFoto.doClick();
        }
    }//GEN-LAST:event_jButton3ActionPerformed

    private void TX3KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX3KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, TX4);
    }//GEN-LAST:event_TX3KeyPressed

    private void TX5KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TX5KeyPressed
        // TODO add your handling code here:
        ctrl.PulsarEnter(evt, CBcivil);
    }//GEN-LAST:event_TX5KeyPressed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton BTactFot;
    private javax.swing.JButton BTc;
    private javax.swing.JButton BTg;
    private javax.swing.JButton BTm;
    private javax.swing.JButton BTsubirFoto;
    private javax.swing.JComboBox CBAFP;
    private javax.swing.JComboBox<String> CBantecedentes;
    private javax.swing.JComboBox<String> CBbuscar;
    private javax.swing.JComboBox<String> CBcivil;
    private javax.swing.JComboBox<String> CBgrado;
    private javax.swing.JComboBox CBsangre;
    private javax.swing.JLabel LBfoto;
    private javax.swing.JTable TBpersonal;
    private javax.swing.JTextField TX1;
    private javax.swing.JTextField TX10;
    private javax.swing.JTextField TX11;
    private javax.swing.JTextField TX12;
    private javax.swing.JTextField TX2;
    private javax.swing.JTextField TX3;
    private javax.swing.JTextField TX4;
    private javax.swing.JFormattedTextField TX5;
    private javax.swing.JTextField TX6;
    private javax.swing.JTextField TX7;
    private javax.swing.JTextField TX8;
    private javax.swing.JTextField TX9;
    private javax.swing.JTextField TXbuscar;
    private javax.swing.JTextArea TXobservaciones;
    private javax.swing.JTextField TXrutaFoto;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton6;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JMenuItem jMenuItem1;
    private javax.swing.JMenuItem jMenuItem2;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPopupMenu jPopupMenu1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JPopupMenu.Separator jSeparator1;
    private javax.swing.JTabbedPane jTabbedPane1;
    // End of variables declaration//GEN-END:variables

    private void Cancelar() 
    {
        ActivaBotones(true, false);
        ctrl.VisualizarDataEscogidaEnTabla("dni,apellido_paterno,apellido_materno,nombres,fecha_nac,estado_civil,grado_instruccion", "personal", TBpersonal, "");
        TX1.setText("");
        TX2.setText("");
        TX3.setText("");
        TX4.setText("");
        TX5.setText("");
        TXrutaFoto.setText("");
        LBfoto.setIcon(null);
        TXbuscar.setText("");
        TX6.setText("");
        TX7.setText("");
        TX8.setText("");
        TX9.setText("");
        TX10.setText("");
        TX11.setText("");
        TX12.setText("");
        CBAFP.setSelectedIndex(0);
        CBcivil.setSelectedIndex(0);
        CBantecedentes.setSelectedIndex(0);
        CBsangre.setSelectedIndex(0);
        TXobservaciones.setText("");
        jTabbedPane1.setSelectedIndex(0);
        CBbuscar.setSelectedIndex(0);
        TX1.requestFocus();
        CBgrado.setSelectedIndex(0);
    }
    private void ActivaBotones(boolean n,boolean m)
    {
        BTg.setEnabled(n);
        BTm.setEnabled(m);
    }

    private void Guardar() 
    {
        if(TX1.getText().trim().length()==0)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no ingresó el DNI");
            TX1.requestFocus();
            jTabbedPane1.setSelectedIndex(0);
        }
        else if(TX2.getText().trim().length()==0)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no ingresó el apellido paterno.");
            TX2.requestFocus();
            jTabbedPane1.setSelectedIndex(0);
        }
        else if(TX3.getText().trim().length()==0)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no ingresó el apellido materno");
            TX3.requestFocus();
            jTabbedPane1.setSelectedIndex(0);
        }
        else if(TX4.getText().trim().length()==0)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no ingresó el nombre");
            TX4.requestFocus();
            jTabbedPane1.setSelectedIndex(0);
        }
//        else if(TX5.getText().trim().length()<10)
//        {
//            ctrl.mensaje.MensajeAlerta("Fecha erronea.");
//            TX5.requestFocus();
//            jTabbedPane1.setSelectedIndex(0);
//        }
        else if(CBgrado.getSelectedIndex()==-1)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no seleccionó el grado de instrucción.");
            CBgrado.requestFocus();
            jTabbedPane1.setSelectedIndex(0);
        }
        else 
        {
            if(TX6.getText().trim().length()*TX7.getText().trim().length() * TX8.getText().trim().length()*TX9.getText().trim().length()*TX10.getText().trim().length()*TX11.getText().trim().length()*TX12.getText().trim().length()==0)
            {
                int resp=ctrl.mensaje.MsjeConfirmacion("El sistema verifica datos incompletos, desea continuar?");
                if(resp==JOptionPane.YES_OPTION)
                {
                    ctrl.GrabarData("personal", "dni,apellido_paterno,apellido_materno,nombres,fecha_nac,estado_civil,e_mail,telefono_fijo,celular,direccion,referencia_direccion,contacto_emergencia,telefono_emergencia,tipo_sangre,ant_poli,observaciones,estado,inscrito,asignadoafp,estado_exa_med,grado_instruccion",
                            "'"+TX1.getText().trim()+"','"+TX2.getText().trim()+"','"+TX3.getText().trim()+"','"+TX4.getText().trim()+"','"+TX5.getText().trim()+"','"+CBcivil.getSelectedItem().toString().trim()+"',"
                                    + "'"+TX6.getText().trim()+"','"+TX7.getText().trim()+"','"+TX8.getText().trim()+"','"+TX9.getText().trim()+"','"+TX10.getText().trim()+"','"+TX11.getText().trim()+"','"+TX12.getText().trim()+"',"
                                    + "'"+CBsangre.getSelectedItem().toString().trim()+"','"+CBantecedentes.getSelectedItem().toString().trim()+"','"+TXobservaciones.getText().trim()+"',1,'"+CBAFP.getSelectedItem().toString().trim()+"',2,1,'"+CBgrado.getSelectedItem().toString().trim()+"'");
                    Cancelar();
                }
                else
                {
                    jTabbedPane1.setSelectedIndex(1);
                    ctrl.Maracar(TX6);
                }
            }
            else
            {
                ctrl.GrabarData("personal", "dni,apellido_paterno,apellido_materno,nombres,fecha_nac,estado_civil,e_mail,telefono_fijo,celular,direccion,referencia_direccion,contacto_emergencia,telefono_emergencia,tipo_sangre,ant_poli,observaciones,estado,inscrito,asignadoafp,estado_exa_med,grado_instruccion",
                            "'"+TX1.getText().trim()+"','"+TX2.getText().trim()+"','"+TX3.getText().trim()+"','"+TX4.getText().trim()+"','"+TX5.getText().trim()+"','"+CBcivil.getSelectedItem().toString().trim()+"',"
                                    + "'"+TX6.getText().trim()+"','"+TX7.getText().trim()+"','"+TX8.getText().trim()+"','"+TX9.getText().trim()+"','"+TX10.getText().trim()+"','"+TX11.getText().trim()+"','"+TX12.getText().trim()+"',"
                                    + "'"+CBsangre.getSelectedItem().toString().trim()+"','"+CBantecedentes.getSelectedItem().toString().trim()+"','"+TXobservaciones.getText().trim()+"',1,'"+CBAFP.getSelectedItem().toString().trim()+"',2,1,'"+CBgrado.getSelectedItem().toString().trim()+"'");
                Cancelar();
            }
        }
    }
    private void PasarDatos()
    {
        if(TBpersonal.getSelectedRow()==-1)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no seleccionó ninguna fila.");
            ctrl.Maracar(TXbuscar);
        }
        else
        {
            ActivaBotones(false, true);
            TX1.setText(ctrl.ValorTabla(TBpersonal, 0));
            TX2.setText(ctrl.ValorTabla(TBpersonal, 1));
            TX3.setText(ctrl.ValorTabla(TBpersonal, 2));
            TX4.setText(ctrl.ValorTabla(TBpersonal, 3));
            TX5.setText(ctrl.ValorTabla(TBpersonal, 4));
            CBcivil.setSelectedItem(ctrl.ValorTabla(TBpersonal, 5));
            TX6.setText(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 8));
            TX7.setText(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 9));
            TX8.setText(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 10));
            TX9.setText(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 11));
            TX10.setText(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 12));
            TX11.setText(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 13));
            TX12.setText(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 14));
            CBsangre.setSelectedItem(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 15));
            CBantecedentes.setSelectedItem(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 16));
            CBAFP.setSelectedItem(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 19));
            TXobservaciones.setText(ctrl.ObtenerCodigo("personal", "dni", ctrl.ValorTabla(TBpersonal, 0), 17));
            jTabbedPane1.setSelectedIndex(0);
        }
    }
    private void Editar()
    {
        if(TX1.getText().trim().length()==0)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no ingresó el DNI");
            TX1.requestFocus();
        }
        else if(TX2.getText().trim().length()==0)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no ingresó el apellido paterno.");
            TX2.requestFocus();
        }
        else if(TX3.getText().trim().length()==0)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no ingresó el apellido materno");
            TX3.requestFocus();
        }
        else if(TX4.getText().trim().length()==0)
        {
            ctrl.mensaje.MensajeAlerta("Ud. no ingresó el nombre");
            TX4.requestFocus();
        }
        else if(TX5.getText().trim().length()<10)
        {
            ctrl.mensaje.MensajeAlerta("Fecha erronea.");
            TX5.requestFocus();
        }
        else 
        {
            if(TX6.getText().trim().length()*TX7.getText().trim().length() * TX8.getText().trim().length()*TX9.getText().trim().length()*TX10.getText().trim().length()*TX11.getText().trim().length()*TX12.getText().trim().length()==0)
            {
                int resp=ctrl.mensaje.MsjeConfirmacion("El sistema verifica datos incompletos, desea continuar?");
                if(resp==JOptionPane.YES_OPTION)
                {
                    ctrl.ActualizarData("personal", "dni='"+TX1.getText().trim()+"',apellido_paterno='"+TX2.getText().trim()+"',apellido_materno='"+TX3.getText().trim()+"',nombres='"+TX4.getText().trim()+"',fecha_nac='"+TX5.getText().trim()+"',estado_civil='"+CBcivil.getSelectedItem().toString().trim()+"',"
                            + "e_mail='"+TX6.getText().trim()+"',telefono_fijo='"+TX7.getText().trim()+"',celular='"+TX8.getText().trim()+"',direccion='"+TX9.getText().trim()+"',referencia_direccion='"+TX10.getText().trim()+"',contacto_emergencia='"+TX11.getText().trim()+"',telefono_emergencia='"+TX12.getText().trim()+"',"
                            + "tipo_sangre='"+CBsangre.getSelectedItem().toString().trim()+"',ant_poli='"+CBantecedentes.getSelectedItem().toString().trim()+"',observaciones='"+TXobservaciones.getText().trim()+"',inscrito='"+CBAFP.getSelectedItem().toString().trim()+"',grado_instruccion='"+CBgrado.getSelectedItem().toString().trim()+"'", "dni='"+ctrl.ValorTabla(TBpersonal, 0)+"'");
                    Cancelar();
                }
                else
                {
                    jTabbedPane1.setSelectedIndex(1);
                    ctrl.Maracar(TX6);
                }
            }
            else
            {
                ctrl.ActualizarData("personal", "dni='"+TX1.getText().trim()+"',apellido_paterno='"+TX2.getText().trim()+"',apellido_materno='"+TX3.getText().trim()+"',nombres='"+TX4.getText().trim()+"',fecha_nac='"+TX5.getText().trim()+"',estado_civil='"+CBcivil.getSelectedItem().toString().trim()+"',"
                            + "e_mail='"+TX6.getText().trim()+"',telefono_fijo='"+TX7.getText().trim()+"',celular='"+TX8.getText().trim()+"',direccion='"+TX9.getText().trim()+"',referencia_direccion='"+TX10.getText().trim()+"',contacto_emergencia='"+TX11.getText().trim()+"',telefono_emergencia='"+TX12.getText().trim()+"',"
                            + "tipo_sangre='"+CBsangre.getSelectedItem().toString().trim()+"',ant_poli='"+CBantecedentes.getSelectedItem().toString().trim()+"',observaciones='"+TXobservaciones.getText().trim()+"',inscrito='"+CBAFP.getSelectedItem().toString().trim()+"',grado_instruccion='"+CBgrado.getSelectedItem().toString().trim()+"'", "dni='"+ctrl.ValorTabla(TBpersonal, 0)+"'");
                    Cancelar();
            }
        }
    }
}
