/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package PQ_VENTANAS;

import PQ_CONTROLADORES.CLS_Controlador;
import PQ_CONTROLADORES.Mail;
import PQ_CONTROLADORES.Reportes;

/**
 *
 * @author Andy Figueroa
 */
public class IFRM_Requerimiento_Personal extends javax.swing.JInternalFrame {

    CLS_Controlador ctrl;
    Mail coreo = new Mail();
    Reportes reporte = new Reportes();

    /**
     * Creates new form IFRM_Requerimiento_Personal
     */
    public IFRM_Requerimiento_Personal() {
        initComponents();
        ctrl = new CLS_Controlador();
        IniciarVentana();
        ctrl.LlenarCombo(CBcargo, "select * from cargo where tipo='B'", 2);
        Cancelar();
    }

    private void Cancelar() {
        CBtiempo.setSelectedIndex(0);
        TXnro.setText("");
        TXobra.setText("");
        CBcargo.setSelectedIndex(-1);
        TXmotivo.setText("");
        TXedad.setText("");
        CBsexo.setSelectedIndex(0);
        CBnivel.setSelectedIndex(0);
        TXgrado.setText("");
        CBingles.setSelectedIndex(0);
        TXfuncion.setText("");
        CBp_cargo.setSelectedIndex(1);
        TXapro.setText("");
        TXobs.setText("");
        ctrl.VisualizarDataEscogidaEnTabla("requerimiento_personal_id_req_per,requerimiento_personal_fecha_emision,requerimiento_personal_tiempo_max_seleccion,requerimiento_personal_nro_personas_req,requerimiento_personal_edad_promedio,requerimiento_personal_sexo,requerimiento_personal_nivel_academico,requerimiento_personal_estado,usuario_nombres_apellidos,obra_planta_descripcion,cargo_descripcion", "v_requerimiento", TBemitidos, "where requerimiento_personal_estado='EMITIDO'");
        ctrl.VisualizarDataEscogidaEnTabla("requerimiento_personal_id_req_per,requerimiento_personal_fecha_emision,requerimiento_personal_fecha_recepcion,requerimiento_personal_nro_personas_req,requerimiento_personal_edad_promedio,requerimiento_personal_sexo,requerimiento_personal_nivel_academico,requerimiento_personal_estado,usuario_nombres_apellidos,obra_planta_descripcion,cargo_descripcion", "v_requerimiento", TBrecepcionados, "where requerimiento_personal_estado='RECEPCIONADO'");
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        dateChooserCombo1 = new datechooser.beans.DateChooserCombo();
        jLabel2 = new javax.swing.JLabel();
        CBtiempo = new javax.swing.JComboBox();
        LBdias = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        TXnro = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        TXmotivo = new javax.swing.JTextArea();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        CBsexo = new javax.swing.JComboBox();
        jLabel7 = new javax.swing.JLabel();
        CBnivel = new javax.swing.JComboBox();
        jLabel8 = new javax.swing.JLabel();
        TXgrado = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        CBingles = new javax.swing.JComboBox();
        jLabel11 = new javax.swing.JLabel();
        CBp_cargo = new javax.swing.JComboBox();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        TXobra = new javax.swing.JTextField();
        jLabel14 = new javax.swing.JLabel();
        CBcargo = new javax.swing.JComboBox();
        jButton1 = new javax.swing.JButton();
        TXapro = new javax.swing.JTextField();
        jScrollPane2 = new javax.swing.JScrollPane();
        TXfuncion = new javax.swing.JTextArea();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jButton4 = new javax.swing.JButton();
        BTobra = new javax.swing.JButton();
        TXedad = new javax.swing.JTextField();
        jPanel2 = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        TXbuscar = new javax.swing.JTextField();
        jScrollPane4 = new javax.swing.JScrollPane();
        TBemitidos = new javax.swing.JTable();
        BTrecepcionar = new javax.swing.JButton();
        BTver1 = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        jPanel5 = new javax.swing.JPanel();
        jLabel10 = new javax.swing.JLabel();
        TXbuscar1 = new javax.swing.JTextField();
        jScrollPane5 = new javax.swing.JScrollPane();
        TBrecepcionados = new javax.swing.JTable();
        BTaprobar = new javax.swing.JButton();
        BTdesaprobar = new javax.swing.JButton();
        jScrollPane3 = new javax.swing.JScrollPane();
        TXobs = new javax.swing.JTextArea();
        jPanel6 = new javax.swing.JPanel();
        jPanel7 = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        jScrollPane6 = new javax.swing.JScrollPane();
        TBapro_desa = new javax.swing.JTable();
        CBapro = new javax.swing.JComboBox();
        BTfiltrar = new javax.swing.JButton();
        BTver = new javax.swing.JButton();

        setClosable(true);
        setIconifiable(true);
        setTitle("Ventana de Requerimiento de Personal");
        setToolTipText(this.getTitle());

        jTabbedPane1.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true));
        jTabbedPane1.setTabPlacement(javax.swing.JTabbedPane.BOTTOM);
        jTabbedPane1.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true));

        jLabel1.setText("Fecha de Emisión:");

        dateChooserCombo1.setFormat(2);
        dateChooserCombo1.setEnabled(false);

        jLabel2.setText("Tiempo max. de Selección:");

        CBtiempo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "CORTO PLAZO", "MEDIANO PLAZO", "LARGO PLAZO" }));
        CBtiempo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CBtiempoActionPerformed(evt);
            }
        });

        LBdias.setText("De 1 - 3 dias Habiles");

        jLabel3.setText("Nro de personas requeridas:");

        TXnro.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        TXnro.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                TXnroKeyTyped(evt);
            }
        });

        TXmotivo.setColumns(20);
        TXmotivo.setLineWrap(true);
        TXmotivo.setRows(5);
        TXmotivo.setWrapStyleWord(true);
        TXmotivo.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true), "Motivo de requerimiento:"));
        jScrollPane1.setViewportView(TXmotivo);

        jLabel5.setText("Edad prom: Ej.  25-45");

        jLabel6.setText("Sexo:");

        CBsexo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "MASCULINO", "FEMENINO", "A DISPOSICION" }));

        jLabel7.setText("Nivel académico:");

        CBnivel.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "PRIMARIA COMPLETA", "SECUNDARIA COMPLETA", "TEC. SUPERIOR", "PRACTICANTE", "BACHILLER", "UNIVERSITARIO TITULADO", "MAGISTER", "DOCTORADO", "Ph.D" }));

        jLabel8.setText("Grado de especialización:");

        jLabel9.setText("Nivel de Ingles:");

        CBingles.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "NINGUNO", "BASICO", "INTERMEDIO", "AVANZADO" }));

        jLabel11.setText("Personal a cargo:");

        CBp_cargo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "SI", "NO" }));
        CBp_cargo.setSelectedIndex(1);
        CBp_cargo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CBp_cargoActionPerformed(evt);
            }
        });

        jLabel12.setText("Nro aprox:");

        jLabel13.setText("Obra de requerimiento:");

        TXobra.setEditable(false);
        TXobra.setBackground(new java.awt.Color(255, 255, 153));
        TXobra.setColumns(13);
        TXobra.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel14.setText("Cargo de personal requerido:");

        CBcargo.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                CBcargoFocusGained(evt);
            }
        });

        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/CARPETA1.png"))); // NOI18N
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        TXapro.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        TXapro.setEnabled(false);
        TXapro.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                TXaproKeyTyped(evt);
            }
        });

        TXfuncion.setColumns(20);
        TXfuncion.setLineWrap(true);
        TXfuncion.setRows(5);
        TXfuncion.setWrapStyleWord(true);
        TXfuncion.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true), "Funciones a desempeñar:"));
        jScrollPane2.setViewportView(TXfuncion);

        jButton2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/GUARDAR.png"))); // NOI18N
        jButton2.setText("Guardar");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        jButton3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/CANCELAR.png"))); // NOI18N
        jButton3.setText("Cancelar");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        jButton4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/SALIR.png"))); // NOI18N
        jButton4.setText("Salir");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        BTobra.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/CARPETA1.png"))); // NOI18N
        BTobra.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTobraActionPerformed(evt);
            }
        });

        TXedad.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jScrollPane2)
                            .addComponent(jScrollPane1)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(jLabel1)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(dateChooserCombo1, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel2)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(CBtiempo, javax.swing.GroupLayout.PREFERRED_SIZE, 213, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(LBdias, javax.swing.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                                        .addComponent(jLabel8)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addComponent(TXgrado))
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                                        .addComponent(jLabel5)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(TXedad, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jLabel6)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(CBsexo, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel9)
                                    .addComponent(jLabel7))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(CBnivel, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(CBingles, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addComponent(jLabel14)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(CBcargo, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addComponent(jLabel3)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(TXnro, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jLabel13)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addComponent(TXobra)))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(BTobra, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(123, 123, 123)))
                        .addContainerGap())
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel11)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(CBp_cargo, javax.swing.GroupLayout.PREFERRED_SIZE, 79, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel12)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(TXapro, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jButton2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton4))))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel1)
                    .addComponent(dateChooserCombo1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel2)
                    .addComponent(CBtiempo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(LBdias))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel13)
                    .addComponent(TXobra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel3)
                    .addComponent(TXnro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(BTobra))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jButton1)
                    .addComponent(CBcargo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel14))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel5)
                    .addComponent(jLabel6)
                    .addComponent(CBsexo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel7)
                    .addComponent(CBnivel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(TXedad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(CBingles, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel8)
                    .addComponent(TXgrado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel9))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 116, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel11)
                        .addComponent(CBp_cargo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel12)
                        .addComponent(TXapro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jButton2)
                        .addComponent(jButton3)
                        .addComponent(jButton4)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Registro de requerimiento de personal", jPanel1);

        jPanel2.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true));

        jPanel3.setBackground(new java.awt.Color(255, 255, 255));

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel4.setText("Busqueda por Usuario:");

        TXbuscar.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                TXbuscarKeyTyped(evt);
            }
        });

        jScrollPane4.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true), "Requerimientos Emitidos:", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N

        TBemitidos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "ID", "F. Emisión", "Tiempo", "Nro. Per", "Edad Prom", "Sexo", "N. Académico", "Estado", "Usuario", "Obra", "Cargo REQ"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        TBemitidos.getTableHeader().setReorderingAllowed(false);
        jScrollPane4.setViewportView(TBemitidos);
        if (TBemitidos.getColumnModel().getColumnCount() > 0) {
            TBemitidos.getColumnModel().getColumn(5).setHeaderValue("Sexo");
        }

        BTrecepcionar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/SERIE.png"))); // NOI18N
        BTrecepcionar.setText("Recepcionar");
        BTrecepcionar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTrecepcionarActionPerformed(evt);
            }
        });

        BTver1.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        BTver1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/GENERAR.png"))); // NOI18N
        BTver1.setText("VER REPORTE");
        BTver1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTver1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel4)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(TXbuscar, javax.swing.GroupLayout.PREFERRED_SIZE, 311, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(BTver1)
                .addContainerGap(289, Short.MAX_VALUE))
            .addComponent(jScrollPane4)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(BTrecepcionar))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(TXbuscar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(BTver1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 374, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(BTrecepcionar)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, 475, Short.MAX_VALUE)
        );

        jTabbedPane1.addTab("Lista de requerimeintos emitidos", jPanel2);

        jPanel4.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true));

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));

        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel10.setText("Busqueda por Usuario:");

        TXbuscar1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                TXbuscar1KeyTyped(evt);
            }
        });

        jScrollPane5.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true), "Requerimientos RECEPCIONADOS.", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N

        TBrecepcionados.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "ID", "F. Emisión", "F. Recepción", "Nro. Per", "Edad Prom", "Sexo", "N. Académico", "Estado", "Usuario", "Obra", "Cargo REQ"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        TBrecepcionados.getTableHeader().setReorderingAllowed(false);
        jScrollPane5.setViewportView(TBrecepcionados);
        if (TBrecepcionados.getColumnModel().getColumnCount() > 0) {
            TBrecepcionados.getColumnModel().getColumn(5).setHeaderValue("Sexo");
        }

        BTaprobar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/Aceptar.png"))); // NOI18N
        BTaprobar.setText("Aprobar");
        BTaprobar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTaprobarActionPerformed(evt);
            }
        });

        BTdesaprobar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/CANCELAR.png"))); // NOI18N
        BTdesaprobar.setText("Desaprobar");
        BTdesaprobar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTdesaprobarActionPerformed(evt);
            }
        });

        TXobs.setColumns(20);
        TXobs.setLineWrap(true);
        TXobs.setRows(5);
        TXobs.setWrapStyleWord(true);
        TXobs.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true), "Observaciones:"));
        jScrollPane3.setViewportView(TXobs);

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane5)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(jLabel10)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(TXbuscar1, javax.swing.GroupLayout.PREFERRED_SIZE, 311, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap(441, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(BTaprobar)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(BTdesaprobar))))
            .addComponent(jScrollPane3)
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel10)
                    .addComponent(TXbuscar1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 225, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 126, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(BTaprobar)
                    .addComponent(BTdesaprobar))
                .addContainerGap(78, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Lista de requerimientos recepcionados", jPanel4);

        jPanel6.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true));

        jPanel7.setBackground(new java.awt.Color(255, 255, 255));

        jLabel16.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel16.setText("Seleccionar:");

        jScrollPane6.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true), "Requerimientos APROBADOS O DESAPROBADOS.", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N

        TBapro_desa.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "ID", "F. Emisión", "F. Recepción", "F. Verificación", "Nro. Per", "N. Académico", "Estado", "Usuario", "Obra", "Cargo REQ"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        TBapro_desa.getTableHeader().setReorderingAllowed(false);
        jScrollPane6.setViewportView(TBapro_desa);

        CBapro.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        CBapro.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "APROBADO", "DESAPROBADO" }));

        BTfiltrar.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        BTfiltrar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/VER.png"))); // NOI18N
        BTfiltrar.setText("Filtrar");
        BTfiltrar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTfiltrarActionPerformed(evt);
            }
        });

        BTver.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        BTver.setIcon(new javax.swing.ImageIcon(getClass().getResource("/PQ_IMAGENES/GENERAR.png"))); // NOI18N
        BTver.setText("VER REPORTE");
        BTver.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BTverActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane6, javax.swing.GroupLayout.DEFAULT_SIZE, 907, Short.MAX_VALUE)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel16)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(CBapro, javax.swing.GroupLayout.PREFERRED_SIZE, 214, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(BTfiltrar)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(BTver)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel16)
                        .addComponent(CBapro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(BTfiltrar))
                    .addComponent(BTver))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane6, javax.swing.GroupLayout.DEFAULT_SIZE, 422, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        jTabbedPane1.addTab("Lista de requerimientos Aprobados y Desaprobados", jPanel6);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 533, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void CBtiempoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CBtiempoActionPerformed
        // TODO add your handling code here:
        if (CBtiempo.getSelectedIndex() == 0) {
            LBdias.setText("De 1 - 3 dias Habiles");
        } else if (CBtiempo.getSelectedIndex() == 1) {
            LBdias.setText("De 4 - 7 dias Habiles");
        } else if (CBtiempo.getSelectedIndex() == 2) {
            LBdias.setText("De 8 - 14 dias Habiles");
        }
    }//GEN-LAST:event_CBtiempoActionPerformed

    private void TXnroKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TXnroKeyTyped
        // TODO add your handling code here:
        ctrl.SoloNumeroEnteros(TXnro);
    }//GEN-LAST:event_TXnroKeyTyped

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        DLG_CARGOS dlg = new DLG_CARGOS(null, true);
        dlg.setVisible(true);
    }//GEN-LAST:event_jButton1ActionPerformed

    private void CBcargoFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_CBcargoFocusGained
        // TODO add your handling code here:
        ctrl.LlenarCombo(CBcargo, "select * from cargo where tipo='B'", 2);
    }//GEN-LAST:event_CBcargoFocusGained

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
        Cancelar();
    }//GEN-LAST:event_jButton3ActionPerformed

    private void BTobraActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTobraActionPerformed
        // TODO add your handling code here:
        DLG_OBRA_Requerimiento dlg = new DLG_OBRA_Requerimiento(null, true);
        dlg.setVisible(true);
    }//GEN-LAST:event_BTobraActionPerformed

    private void CBp_cargoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CBp_cargoActionPerformed
        // TODO add your handling code here:
        if (CBp_cargo.getSelectedIndex() == 1) {
            TXapro.setEnabled(false);
        } else {
            TXapro.setEnabled(true);
        }
    }//GEN-LAST:event_CBp_cargoActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
        Guardar();
    }//GEN-LAST:event_jButton2ActionPerformed

    private void TXaproKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TXaproKeyTyped
        // TODO add your handling code here:
        ctrl.SoloNumeroEnteros(TXapro);
    }//GEN-LAST:event_TXaproKeyTyped

    private void TXbuscar1KeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TXbuscar1KeyTyped
        // TODO add your handling code here:
        ctrl.BuscarJtable(TXbuscar1, TBrecepcionados, 8);
    }//GEN-LAST:event_TXbuscar1KeyTyped

    private void BTaprobarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTaprobarActionPerformed
        // TODO add your handling code here:
        Aprobar();
    }//GEN-LAST:event_BTaprobarActionPerformed

    private void BTfiltrarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTfiltrarActionPerformed
        // TODO add your handling code here:
        Filtrar();
    }//GEN-LAST:event_BTfiltrarActionPerformed

    private void BTdesaprobarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTdesaprobarActionPerformed
        // TODO add your handling code here:
        Desaprobar();
    }//GEN-LAST:event_BTdesaprobarActionPerformed

    private void BTverActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTverActionPerformed
        // TODO add your handling code here:
        if (TBapro_desa.getRowCount() == 0) {
            ctrl.mensaje.MensajeAlerta("No hay nada que visualizar");
        } else if (TBapro_desa.getSelectedRow() == -1) {
            ctrl.mensaje.MensajeAlerta("Seleccione una fila.");
        } else {
            Reporte(ctrl.ValorTabla(TBapro_desa, 0));
        }
    }//GEN-LAST:event_BTverActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        // TODO add your handling code here:
        dispose();
    }//GEN-LAST:event_jButton4ActionPerformed

    private void BTrecepcionarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTrecepcionarActionPerformed
        // TODO add your handling code here:
        Recepcionar();
    }//GEN-LAST:event_BTrecepcionarActionPerformed

    private void TXbuscarKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TXbuscarKeyTyped
        // TODO add your handling code here:
        ctrl.BuscarJtable(TXbuscar, TBemitidos, 8);
    }//GEN-LAST:event_TXbuscarKeyTyped

    private void BTver1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BTver1ActionPerformed
        // TODO add your handling code here:
        if (TBemitidos.getRowCount() == 0) {
            ctrl.mensaje.MensajeAlerta("No hay nada que visualizar");
        } else if (TBemitidos.getSelectedRow() == -1) {
            ctrl.mensaje.MensajeAlerta("Seleccione una fila.");
        } else {
            Reporte(ctrl.ValorTabla(TBemitidos, 0));
        }
    }//GEN-LAST:event_BTver1ActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton BTaprobar;
    private javax.swing.JButton BTdesaprobar;
    private javax.swing.JButton BTfiltrar;
    private javax.swing.JButton BTobra;
    private javax.swing.JButton BTrecepcionar;
    private javax.swing.JButton BTver;
    private javax.swing.JButton BTver1;
    private javax.swing.JComboBox CBapro;
    private javax.swing.JComboBox CBcargo;
    private javax.swing.JComboBox CBingles;
    private javax.swing.JComboBox CBnivel;
    private javax.swing.JComboBox CBp_cargo;
    private javax.swing.JComboBox CBsexo;
    private javax.swing.JComboBox CBtiempo;
    private javax.swing.JLabel LBdias;
    private javax.swing.JTable TBapro_desa;
    private javax.swing.JTable TBemitidos;
    private javax.swing.JTable TBrecepcionados;
    private javax.swing.JTextField TXapro;
    private javax.swing.JTextField TXbuscar;
    private javax.swing.JTextField TXbuscar1;
    private javax.swing.JTextField TXedad;
    private javax.swing.JTextArea TXfuncion;
    private javax.swing.JTextField TXgrado;
    private javax.swing.JTextArea TXmotivo;
    private javax.swing.JTextField TXnro;
    public static javax.swing.JTextField TXobra;
    private javax.swing.JTextArea TXobs;
    private datechooser.beans.DateChooserCombo dateChooserCombo1;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JTabbedPane jTabbedPane1;
    // End of variables declaration//GEN-END:variables

    private void Guardar() {
        if (TXnro.getText().trim().length() == 0) {
            ctrl.mensaje.MensajeAlerta("Registre el nro de personas requeridas.");
            TXnro.requestFocus();
        } else if (TXobra.getText().trim().length() == 0) {
            ctrl.mensaje.MensajeAlerta("Seleccione la obra.");
            BTobra.doClick();
        } else if (CBcargo.getSelectedIndex() == -1) {
            ctrl.mensaje.MensajeAlerta("Seleccione cargo a solicitar.");
            CBcargo.requestFocus();
        } else if (TXedad.getText().trim().length() == 0) {
            ctrl.mensaje.MensajeAlerta("Registre la edad promedio");
            TXedad.requestFocus();
        } else if (TXfuncion.getText().trim().length() == 0) {
            ctrl.mensaje.MensajeAlerta("Registre la función a desempeñar.");
            TXfuncion.requestFocus();
        } else if (CBp_cargo.getSelectedIndex() == 0 && TXapro.getText().trim().length() == 0) {
            ctrl.mensaje.MensajeAlerta("Registre el número aproximado de personales a cargo");
            TXapro.requestFocus();
        } else {
            String usu, car;
            usu = ctrl.ObtenerCodigo("usuario", "nick", MDI_PRINCIPAL.TXnick.getText().trim(), 1);
            car = ctrl.ObtenerCodigo("cargo", "descripcion", CBcargo.getSelectedItem().toString().trim(), 1);
            ctrl.GrabarData("requerimiento_personal", "fecha_emision,tiempo_max_seleccion,nro_personas_req,motivo_req,edad_promedio,sexo,nivel_academico,grado_especializacion"
                    + ",nivel_ingles,funciones_desempeñar,personal_cargo,nro_aprox,estado,indicador,id_usuario,id_obra_planta,id_cargo",
                     "'" + ctrl.Fecha() + " " + ctrl.Hora() + "','" + CBtiempo.getSelectedItem().toString().trim() + "','" + TXnro.getText().trim() + "','" + TXmotivo.getText().trim() + "','" + TXedad.getText().trim() + "',"
                    + "'" + CBsexo.getSelectedItem().toString().trim() + "','" + CBnivel.getSelectedItem().toString().trim() + "','" + TXgrado.getText().trim() + "','" + CBingles.getSelectedItem().toString().trim() + "',"
                    + "'" + TXfuncion.getText().trim() + "','" + CBp_cargo.getSelectedItem().toString().trim() + "','" + TXapro.getText().trim() + "','1','2',"
                    + "'" + usu + "','" + TXobra.getText().trim() + "','" + car + "'");
            Cancelar();
            jTabbedPane1.setSelectedIndex(1);
            Reporte(ctrl.UltimoCodigo("id_req_per", "requerimiento_personal"));
//            coreo.EnviarCorreo("constructoramls@yahoo.es", "monerusua", "constructoramls@yahoo.es,gusua@constructoramls.com,figueroacastilloa@gmail.com,lgarcia@constructoramls.com,eatalaya@constructoramls.com,mloli@constructoramls.com", "Requerimiento de Personal", "El Sr. "+MDI_PRINCIPAL.TXusuario.getText().trim()+" con cargo de "+MDI_PRINCIPAL.TXcargo.getText().trim()+" realizó un requerimiento de personal con codigo "+ctrl.UltimoCodigo("id_req_per", "requerimiento_personal")+", por favor revisar.\nRECUHUM V-3.0");
//coreo.EnviarCorreo("constructoramls@yahoo.es", "monerusua", "figueroacastilloa@gmail.com", "Requerimiento de Personal", "El Sr. "+MDI_PRINCIPAL.TXusuario.getText().trim()+" con cargo de "+MDI_PRINCIPAL.TXcargo.getText().trim()+" realizó un requerimiento de personal con codigo "+ctrl.UltimoCodigo("id_req_per", "requerimiento_personal")+", por favor revisar.\nRECUHUM V-3.0");
        }
    }

    private void Recepcionar() {
        if (TBemitidos.getSelectedRow() == -1) {
            ctrl.mensaje.MensajeAlerta("Seleccione una fila.");
        } else {
            if (ctrl.mensaje.MsjeConfirmacion("Está seguro que desea recepcionar este requerimiento?") == 0) {
                ctrl.ActualizarData("requerimiento_personal", "estado='RECEPCIONADO',fecha_recepcion='" + ctrl.Fecha() + " " + ctrl.Hora() + "'", "id_req_per='" + ctrl.ValorTabla(TBemitidos, 0) + "'");
                Reporte(ctrl.ValorTabla(TBemitidos, 0));
                Cancelar();
                jTabbedPane1.setSelectedIndex(2);
            } else {
                ctrl.mensaje.MensajeSimple("Proceso cancelado");
                jTabbedPane1.setSelectedIndex(0);
            }

        }
    }

    private void IniciarVentana() {
        if (MDI_PRINCIPAL.TXyipo.getText().trim().equalsIgnoreCase("SUPER ADMINISTRADOR")) {
            BTrecepcionar.setEnabled(true);
            BTaprobar.setEnabled(true);
            BTdesaprobar.setEnabled(true);
            BTfiltrar.setEnabled(true);
            BTver.setEnabled(true);
        } else if (MDI_PRINCIPAL.TXyipo.getText().trim().equalsIgnoreCase("ADMINISTRADOR")) {
            BTrecepcionar.setEnabled(true);
            BTaprobar.setEnabled(false);
            BTdesaprobar.setEnabled(false);
            BTfiltrar.setEnabled(true);
            BTver.setEnabled(true);
        } else if (MDI_PRINCIPAL.TXyipo.getText().trim().equalsIgnoreCase("SOLICITANTE")) {
            BTrecepcionar.setEnabled(false);
            BTaprobar.setEnabled(false);
            BTdesaprobar.setEnabled(false);
            BTfiltrar.setEnabled(true);
            BTver.setEnabled(true);
        }
    }

    private void Filtrar() {
        ctrl.VisualizarDataEscogidaEnTabla("requerimiento_personal_id_req_per,requerimiento_personal_fecha_emision,requerimiento_personal_fecha_recepcion,requerimiento_personal_fecha_aprobacion,requerimiento_personal_nro_personas_req,requerimiento_personal_nivel_academico,requerimiento_personal_estado,usuario_nombres_apellidos,obra_planta_descripcion,cargo_descripcion", "v_requerimiento", TBapro_desa, "where requerimiento_personal_estado='" + CBapro.getSelectedItem().toString().trim() + "'");
    }

    private void Aprobar() {
        if (TBrecepcionados.getSelectedRow() == -1) {
            ctrl.mensaje.MensajeAlerta("Seleccione una fila.");
        } else {
            if (ctrl.mensaje.MsjeConfirmacion("Está seguro que desea aprobar este requerimiento?") == 0) {
                ctrl.ActualizarData("requerimiento_personal", "estado='APROBADO',fecha_aprobacion='" + ctrl.Fecha() + " " + ctrl.Hora() + "',observaciones='" + TXobs.getText().trim() + "'", "id_req_per='" + ctrl.ValorTabla(TBrecepcionados, 0) + "'");
                Reporte(ctrl.ValorTabla(TBrecepcionados, 0));
//                coreo.EnviarCorreo("figueroacastilloa@yahoo.es", "anfic_187@",ctrl.ObtenerCodigo("usuario","nombres_apellidos" ,ctrl.ValorTabla(TBrecepcionados, 8) , 10) , "Reespuesta de pequerimiento de Personal", "El sistema RECUHUM V-3.5 le informa que su requerimiento número "+ctrl.ValorTabla(TBrecepcionados, 0)+" fue aprobado con las siguientes observaciones ------ "+ctrl.ObtenerCodigo("requerimiento_personal","id_req_per", ctrl.ValorTabla(TBrecepcionados, 0), 17)+"--------\n por favor coordinar con el area de administración.");
                Cancelar();
                jTabbedPane1.setSelectedIndex(3);
            } else {
                ctrl.mensaje.MensajeSimple("Proceso cancelado");
                jTabbedPane1.setSelectedIndex(0);
            }

        }
    }

    private void Desaprobar() {
        if (TBrecepcionados.getSelectedRow() == -1) {
            ctrl.mensaje.MensajeAlerta("Seleccione una fila.");
        } else {
            if (ctrl.mensaje.MsjeConfirmacion("Está seguro que desea desaprobar este requerimiento?") == 0) {
                ctrl.ActualizarData("requerimiento_personal", "estado='DESAPROBADO',fecha_aprobacion='" + ctrl.Fecha() + " " + ctrl.Hora() + "',observaciones='" + TXobs.getText().trim() + "'", "id_req_per='" + ctrl.ValorTabla(TBrecepcionados, 0) + "'");
                Reporte(ctrl.ValorTabla(TBrecepcionados, 0));
//                coreo.EnviarCorreo("constructoramls@yahoo.es", "monerusua", ctrl.ObtenerCodigo("usuario","nombres_apellidos" ,ctrl.ValorTabla(TBrecepcionados, 8) , 10), "Reespuesta de pequerimiento de Personal", "El sistema RECUHUM V-3.5 le informa que su requerimiento número "+ctrl.ValorTabla(TBrecepcionados, 0)+" fue desaprobado con las siguientes observaciones ------ "+ctrl.ObtenerCodigo("requerimiento_personal","id_req_per", ctrl.ValorTabla(TBrecepcionados, 0), 17)+"--------\n por favor coordinar con el area de administración.");
                Cancelar();
                jTabbedPane1.setSelectedIndex(3);
            } else {
                ctrl.mensaje.MensajeSimple("Proceso cancelado");
                jTabbedPane1.setSelectedIndex(0);
            }
        }
    }

    private void Reporte(String codigo) {
        reporte.Reporte_1Parametro_Imagen("RPT_Hoja_Requerimiento.jasper", "p_codigo", codigo, "p_logo", "/PQ_IMAGENES/LogoSantisimaCruzEdit.png");
    }

}
